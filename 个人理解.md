# JVM

1. 为什么要分新生代、老年代
   1. 不分代收集的话，需要回收一整块内存的对象(生命周期长的对象与生命周期短的对象)。生命周期长的对象往往是不需要经常回收的。一起回收会使开销变大。
2. 为什么新生代要分区
   1. 新生代不分区的话，新生代死亡率特别高，回收一次会产生特别多的垃圾碎片，需要标记-整理，移动存活的对象，如果要达到升级到老年代的年龄的对象，则移动到老年代中。第二种收集方案清除死亡对象，将存活的放入老年代中，然后老年点很快满，触发fullGC。
   2. 只有一个Survivor区，该Survivor区也需要采用标记-整理。所以主要为了性能问题，才会出现第二个Survivor区
   3. 所以新生代标记GC的流程就为
      1. 当Survivor与Eden满了时，标记存活对象
      2. 将存活对象移动到Survivor to
      3. 清除Survivor from与eden，from与to交换



